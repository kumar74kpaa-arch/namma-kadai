{
  "entities": {
    "Product": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Product",
      "type": "object",
      "description": "Represents a product available for sale in the Namma Kadai application.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the product."
        },
        "name": {
          "type": "string",
          "description": "Name of the product."
        },
        "price": {
          "type": "number",
          "description": "Price of the product."
        },
        "description": {
          "type": "string",
          "description": "Detailed description of the product."
        },
        "imageUrl": {
          "type": "string",
          "description": "URL of the product image stored in Firebase Storage.",
          "format": "uri"
        }
      },
      "required": [
        "id",
        "name",
        "price",
        "description",
        "imageUrl"
      ]
    },
    "Order": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Order",
      "type": "object",
      "description": "Represents a customer order placed through the Namma Kadai application.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the order."
        },
        "customerName": {
          "type": "string",
          "description": "Name of the customer who placed the order."
        },
        "customerPhone": {
          "type": "string",
          "description": "Phone number of the customer."
        },
        "customerAddress": {
          "type": "string",
          "description": "Shipping address of the customer."
        },
        "orderDate": {
          "type": "string",
          "description": "Date and time when the order was placed.",
          "format": "date-time"
        },
        "totalPrice": {
          "type": "number",
          "description": "Total price of the order."
        },
        "orderItems": {
          "type": "array",
          "description": "List of items included in the order.",
          "items": {
            "type": "string"
          }
        }
      },
      "required": [
        "id",
        "customerName",
        "customerPhone",
        "customerAddress",
        "orderDate",
        "totalPrice",
        "orderItems"
      ]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/products/{productId}",
        "definition": {
          "entityName": "Product",
          "schema": {
            "$ref": "#/backend/entities/Product"
          },
          "description": "Stores product information.  The admin user can create, read, update, and delete documents in this collection.",
          "params": [
            {
              "name": "productId",
              "description": "The unique ID of the product."
            }
          ]
        }
      },
      {
        "path": "/orders/{orderId}",
        "definition": {
          "entityName": "Order",
          "schema": {
            "$ref": "#/backend/entities/Order"
          },
          "description": "Stores customer order information.  The admin user can create, read, update, and delete documents in this collection.",
          "params": [
            {
              "name": "orderId",
              "description": "The unique ID of the order."
            }
          ]
        }
      }
    ],
    "reasoning": "The Firestore structure is designed to manage products and customer orders for the Namma Kadai application, with a focus on secure admin access and scalable data management. Products are stored in a root-level `products` collection, allowing for easy listing and retrieval. Orders are stored in a root-level `orders` collection. Since the only user is admin, no denormalization is necessary, since all roles are checked via path."
  }
}